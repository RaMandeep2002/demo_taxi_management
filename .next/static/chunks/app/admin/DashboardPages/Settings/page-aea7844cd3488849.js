(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{4293:(e,t,s)=>{Promise.resolve().then(s.bind(s,1919))},9443:(e,t,s)=>{"use strict";s.d(t,{A:()=>S});var r=s(5155),n=s(6046),l=s(8173),a=s.n(l),i=s(2115),o=s(5325),d=s(5012),c=s(7493),u=s(8639),h=s(4683),x=s(1328),m=s(2187),g=s(3474),p=s(1354),f=s(3391),v=s(744),b=s(241);let y=e=>{let{icon:t,label:s,onClick:n}=e;return(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("button",{onClick:n,className:"flex items-center justify-between w-full px-4 py-2 text-left hover:bg-zinc-800 dark:hover:bg-gray-800 text-gray-800 hover:text-white rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(t,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:s})]})})})};function j(){let[e,t]=(0,i.useState)(!1),s=(0,n.useRouter)(),l=(0,f.wA)(),a=e=>{s.push(e)};return(0,r.jsxs)("aside",{className:"bg-[#F5EF1B] text-white flex flex-col transition-all duration-300 ".concat(e?"w-20":"w-70"),children:[(0,r.jsxs)("div",{className:"px-6 py-4 flex justify-between items-center",children:[!e&&(0,r.jsx)("h2",{className:"text-2xl font-bold cursor-pointer text-gray-800",onClick:()=>a("/admin/dashboard"),children:"Salmon Arm Taxi"}),(0,r.jsx)("button",{onClick:()=>{t(!e)},className:"p-2 text-gray-800",children:e?(0,r.jsx)(o.A,{}):(0,r.jsx)(d.A,{})})]}),(0,r.jsxs)("nav",{className:"flex-1 px-4 pt-5 space-y-4",children:[(0,r.jsx)(y,{icon:c.A,label:e?"":"Dashboard",onClick:()=>a("/admin/dashboard")}),(0,r.jsx)(y,{icon:u.A,label:e?"":"Booking History",onClick:()=>a("/admin/DashboardPages/Bookings/BookingHistorys")}),(0,r.jsx)(y,{icon:h.A,label:e?"":"Add Driver",onClick:()=>a("/admin/DashboardPages/DriverPage/AddDriver")}),(0,r.jsx)(y,{icon:x.A,label:e?"":"Users",onClick:()=>a("/admin/DashboardPages/DriverPage/DriverList")}),(0,r.jsx)(y,{icon:u.A,label:e?"":"Driver List with Vehicle",onClick:()=>a("/admin/DashboardPages/DriverPage/DriverwithVechicle")}),(0,r.jsx)(y,{icon:m.A,label:e?"":"Reports",onClick:()=>a("/admin/DashboardPages/Reports/")}),(0,r.jsx)(y,{icon:g.A,label:e?"":"Settings",onClick:()=>a("/admin/DashboardPages/Settings/")})]}),(0,r.jsx)("div",{className:"px-4 py-4",children:(0,r.jsx)("button",{onClick:()=>{l((0,v.ri)()),(0,b.oR)({title:"Successful Logout",description:"Redirecting to Login Page ..."}),s.push("/admin/login")},className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:e?(0,r.jsx)(p.A,{}):"Logout"})})]})}var w=s(689),N=s(7936);function A(){let e=(0,n.useRouter)(),t=(0,f.wA)(),[s,l]=(0,i.useState)(!1),a=()=>{t((0,v.ri)()),(0,b.oR)({title:"Successful Logout",description:"Redirecting to Login Page ..."}),e.push("/admin/login")};return(0,r.jsxs)("header",{className:"w-full bg-[#F5EF1B] shadow-sm",children:[(0,r.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-zinc-800",children:"Admin Dashboard"}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,r.jsx)("button",{className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:"+ Report"}),(0,r.jsx)("button",{onClick:a,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:"Logout"})]}),(0,r.jsx)("button",{onClick:()=>{l(!s)},className:"md:hidden p-2 text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none",children:s?(0,r.jsx)(w.A,{size:24}):(0,r.jsx)(N.A,{size:24})})]}),s&&(0,r.jsxs)("div",{className:"md:hidden px-6 pb-4 space-y-2",children:[(0,r.jsx)("button",{className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:"+ Report"}),(0,r.jsx)("button",{onClick:a,className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:"Logout"})]})]})}function S(e){let{children:t}=e,s=(0,n.usePathname)(),l=(0,n.useRouter)(),o=s.split("/").filter(Boolean),[d,c]=(0,i.useState)(null);return((0,i.useEffect)(()=>{localStorage.getItem("token")?c(!0):(l.push("/admin/login"),c(!1))},[s]),null!==d&&d)?(0,r.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,r.jsx)(j,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)(A,{}),(0,r.jsx)("nav",{className:"shadow-sm p-4 bg-zinc-800",children:(0,r.jsx)("ul",{className:"flex space-x-2 text-white text-sm",children:o.map((e,t)=>{let s="/".concat(o.slice(0,t+1).join("/"));return(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mx-2",children:"/"}),(0,r.jsx)(a(),{href:s,className:"hover:text-[#F5EF1B] capitalize",children:e})]},s)})})}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-zinc-800",children:(0,r.jsx)("div",{className:"max-w-full mx-auto space-y-6",children:t})})]})]}):null}},1919:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),n=s(3391),l=s(9443),a=s(4248),i=s(2115),o=s(4085);function d(){let e=(0,n.wA)(),{settings:t,isLoading:s,error:d}=(0,n.d4)(a.i0);return(0,i.useEffect)(()=>{e((0,a.Uc)())},[e]),(0,r.jsx)(l.A,{children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6 text-[#F5EF1B]",children:"Settings"}),s&&(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-dotted rounded-full animate-spin"})}),d&&(0,r.jsx)("div",{className:"bg-red-100 text-red-700 px-4 py-2 rounded-md mb-4",children:d}),t&&(0,r.jsxs)("div",{className:"bg-[#F5EF1B] shadow-lg rounded-lg p-6 max-w-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Pricing Details"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("p",{className:"text-lg text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Base Price:"}),(0,r.jsxs)("span",{className:"ml-2 text-gray-800",children:["$",t.basePrice]})]}),(0,r.jsxs)("p",{className:"text-lg text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Price Per Km:"}),(0,r.jsxs)("span",{className:"ml-2 text-gray-800",children:["$",t.pricePerKm]})]})]}),(0,r.jsx)(o.$,{className:"mt-4",children:"Update the Price"})]})]})})}},744:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>d,b7:()=>a,ri:()=>o});var r=s(8943),n=s(2651);let l={token:localStorage.getItem("token"),isLoading:!1,error:null},a=(0,r.zD)("auth/loginAdmin",async(e,t)=>{let{email:s,password:r}=e,{rejectWithValue:l}=t;try{let e=(await n.A.post("http://localhost:5000/api/auth/login",{email:s,password:r})).data.token;return localStorage.setItem("token",e),e}catch(e){return console.error(e),l("An unexpected error occurred")}}),i=(0,r.Z0)({name:"auth",initialState:l,reducers:{logout:e=>{e.token=null,localStorage.removeItem("token")}},extraReducers:e=>{e.addCase(a.pending,e=>{e.isLoading=!0,e.error=null}).addCase(a.fulfilled,(e,t)=>{e.isLoading=!1,e.token=t.payload,e.error=null}).addCase(a.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{logout:o}=i.actions,d=i.reducer},4248:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>o,Uc:()=>l,i0:()=>i});var r=s(8943),n=s(2651);let l=(0,r.zD)("settings/fetchingsetting",async(e,t)=>{let{rejectWithValue:s}=t;try{let e=localStorage.getItem("token");if(!e)throw Error("No authentication token found.");let t=await n.A.get("http://localhost:5000/admin/settings",{headers:{Authorization:"Bearer ".concat(e)}});return console.log(t.data.settings[0]),t.data.settings[0]}catch(e){return console.error(e),s("Failed to fetch settings info")}}),a=(0,r.Z0)({name:"settings",initialState:{settings:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.isLoading=!1,e.settings=t.payload}).addCase(l.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),i=e=>e.settings,o=a.reducer},4085:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>o});var r=s(5155),n=s(2115),l=s(2317),a=s(1027),i=s(9602);let o=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:s,variant:n,size:a,asChild:d=!1,...c}=e,u=d?l.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:n,size:a,className:s})),ref:t,...c})});d.displayName="Button"},241:(e,t,s)=>{"use strict";s.d(t,{dj:()=>h,oR:()=>u});var r=s(2115);let n=0,l=new Map,a=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?a(s):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9602:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(3463),n=s(9795);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,r.$)(t))}},8068:(e,t,s)=>{"use strict";s.d(t,{s:()=>a,t:()=>l});var r=s(2115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let s=!1,r=e.map(e=>{let r=n(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():n(e[t],null)}}}}function a(...e){return r.useCallback(l(...e),e)}},2317:(e,t,s)=>{"use strict";s.d(t,{DX:()=>a,xV:()=>o});var r=s(2115),n=s(8068),l=s(5155),a=r.forwardRef((e,t)=>{let{children:s,...n}=e,a=r.Children.toArray(s),o=a.find(d);if(o){let e=o.props.children,s=a.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,l.jsx)(i,{...n,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,l.jsx)(i,{...n,ref:t,children:s})});a.displayName="Slot";var i=r.forwardRef((e,t)=>{let{children:s,...l}=e;if(r.isValidElement(s)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(s=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(s);return r.cloneElement(s,{...function(e,t){let s={...t};for(let r in t){let n=e[r],l=t[r];/^on[A-Z]/.test(r)?n&&l?s[r]=(...e)=>{l(...e),n(...e)}:n&&(s[r]=n):"style"===r?s[r]={...n,...l}:"className"===r&&(s[r]=[n,l].filter(Boolean).join(" "))}return{...e,...s}}(l,s.props),ref:t?(0,n.t)(t,e):e})}return r.Children.count(s)>1?r.Children.only(null):null});i.displayName="SlotClone";var o=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function d(e){return r.isValidElement(e)&&e.type===o}},1027:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});var r=s(3463);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=r.$,a=(e,t)=>s=>{var r;if((null==t?void 0:t.variants)==null)return l(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(e=>{let t=null==s?void 0:s[e],r=null==i?void 0:i[e];if(null===t)return null;let l=n(t)||n(r);return a[e][l]}),d=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{});return l(e,o,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...n}=t;return Object.entries(n).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...i,...d}[t]):({...i,...d})[t]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}},e=>{var t=t=>e(e.s=t);e.O(0,[559,819,181,441,517,358],()=>t(4293)),_N_E=e.O()}]);
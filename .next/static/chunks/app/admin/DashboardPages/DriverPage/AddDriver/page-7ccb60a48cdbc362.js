(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{7450:(e,t,r)=>{Promise.resolve().then(r.bind(r,3681))},9443:(e,t,r)=>{"use strict";r.d(t,{A:()=>S});var s=r(5155),l=r(6046),a=r(8173),n=r.n(a),i=r(2115),o=r(5325),d=r(5012),c=r(7493),u=r(8639),x=r(4683),h=r(1328),m=r(2187),g=r(3474),p=r(1354),b=r(3391),f=r(744),v=r(241);let j=e=>{let{icon:t,label:r,onClick:l}=e;return(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("button",{onClick:l,className:"flex items-center justify-between w-full px-4 py-2 text-left hover:bg-zinc-800 dark:hover:bg-gray-800 text-gray-800 hover:text-white rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:r})]})})})};function y(){let[e,t]=(0,i.useState)(!1),r=(0,l.useRouter)(),a=(0,b.wA)(),n=e=>{r.push(e)};return(0,s.jsxs)("aside",{className:"bg-[#F5EF1B] text-white flex flex-col transition-all duration-300 ".concat(e?"w-20":"w-70"),children:[(0,s.jsxs)("div",{className:"px-6 py-4 flex justify-between items-center",children:[!e&&(0,s.jsx)("h2",{className:"text-2xl font-bold cursor-pointer text-gray-800",onClick:()=>n("/admin/dashboard"),children:"Salmon Arm Taxi"}),(0,s.jsx)("button",{onClick:()=>{t(!e)},className:"p-2 text-gray-800",children:e?(0,s.jsx)(o.A,{}):(0,s.jsx)(d.A,{})})]}),(0,s.jsxs)("nav",{className:"flex-1 px-4 pt-5 space-y-4",children:[(0,s.jsx)(j,{icon:c.A,label:e?"":"Dashboard",onClick:()=>n("/admin/dashboard")}),(0,s.jsx)(j,{icon:u.A,label:e?"":"Booking History",onClick:()=>n("/admin/DashboardPages/Bookings/BookingHistorys")}),(0,s.jsx)(j,{icon:x.A,label:e?"":"Add Driver",onClick:()=>n("/admin/DashboardPages/DriverPage/AddDriver")}),(0,s.jsx)(j,{icon:h.A,label:e?"":"Users",onClick:()=>n("/admin/DashboardPages/DriverPage/DriverList")}),(0,s.jsx)(j,{icon:u.A,label:e?"":"Driver List with Vehicle",onClick:()=>n("/admin/DashboardPages/DriverPage/DriverwithVechicle")}),(0,s.jsx)(j,{icon:m.A,label:e?"":"Reports",onClick:()=>n("/admin/DashboardPages/Reports/")}),(0,s.jsx)(j,{icon:g.A,label:e?"":"Settings",onClick:()=>n("/admin/DashboardPages/Settings/")})]}),(0,s.jsx)("div",{className:"px-4 py-4",children:(0,s.jsx)("button",{onClick:()=>{a((0,f.ri)()),(0,v.oR)({title:"Successful Logout",description:"Redirecting to Login Page ..."}),r.push("/admin/login")},className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:e?(0,s.jsx)(p.A,{}):"Logout"})})]})}var w=r(689),N=r(7936);function A(){let e=(0,l.useRouter)(),t=(0,b.wA)(),[r,a]=(0,i.useState)(!1),n=()=>{t((0,f.ri)()),(0,v.oR)({title:"Successful Logout",description:"Redirecting to Login Page ..."}),e.push("/admin/login")};return(0,s.jsxs)("header",{className:"w-full bg-[#F5EF1B] shadow-sm",children:[(0,s.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-zinc-800",children:"Admin Dashboard"}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,s.jsx)("button",{className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:"+ Report"}),(0,s.jsx)("button",{onClick:n,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:"Logout"})]}),(0,s.jsx)("button",{onClick:()=>{a(!r)},className:"md:hidden p-2 text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none",children:r?(0,s.jsx)(w.A,{size:24}):(0,s.jsx)(N.A,{size:24})})]}),r&&(0,s.jsxs)("div",{className:"md:hidden px-6 pb-4 space-y-2",children:[(0,s.jsx)("button",{className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:"+ Report"}),(0,s.jsx)("button",{onClick:n,className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 transition",children:"Logout"})]})]})}function S(e){let{children:t}=e,r=(0,l.usePathname)(),a=(0,l.useRouter)(),o=r.split("/").filter(Boolean),[d,c]=(0,i.useState)(null);return((0,i.useEffect)(()=>{localStorage.getItem("token")?c(!0):(a.push("/admin/login"),c(!1))},[r]),null!==d&&d)?(0,s.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,s.jsx)(y,{}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsx)(A,{}),(0,s.jsx)("nav",{className:"shadow-sm p-4 bg-zinc-800",children:(0,s.jsx)("ul",{className:"flex space-x-2 text-white text-sm",children:o.map((e,t)=>{let r="/".concat(o.slice(0,t+1).join("/"));return(0,s.jsxs)("li",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mx-2",children:"/"}),(0,s.jsx)(n(),{href:r,className:"hover:text-[#F5EF1B] capitalize",children:e})]},r)})})}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-zinc-800",children:(0,s.jsx)("div",{className:"max-w-full mx-auto space-y-6",children:t})})]})]}):null}},3681:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),l=r(9443),a=r(649),n=r(2115),i=r(3391);function o(){let[e,t]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),[u,x]=(0,n.useState)(void 0),[h,m]=(0,n.useState)(""),[g,p]=(0,n.useState)(!1),b=(0,i.wA)(),{isLoading:f,error:v}=(0,i.d4)(e=>e.addDriver),j=async t=>{if(t.preventDefault(),void 0===u){alert("Please enter a valid phone number.");return}b((0,a.IY)({drivername:e,email:r,driversLicenseNumber:d,phoneNumber:String(u),password:h}))};return(0,s.jsx)(l.A,{children:(0,s.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-[#F5EF1B]",children:"Add New Driver"}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto bg-zinc-800 p-8 mt-12",children:[v&&(0,s.jsx)("p",{className:"text-red-500 text-center",children:v}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-lg font-medium text-white",children:"Driver name"}),(0,s.jsx)("input",{type:"text",name:"name",placeholder:"Enter the name of Driver",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 text-zinc-800 text-lg bg-zinc-200"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-lg font-medium text-white",children:"Email"}),(0,s.jsx)("input",{type:"email",name:"email",placeholder:"Enter the Email of Driver",value:r,onChange:e=>o(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 text-zinc-800 text-lg bg-zinc-200"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-lg font-medium text-white",children:"Drivers License Number"}),(0,s.jsx)("input",{type:"text",name:"driversLicenseNumber",placeholder:"Enter the Drivers License Number of Driver",value:d,onChange:e=>c(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 text-zinc-800 text-lg bg-zinc-200"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-lg font-medium text-white",children:"Phone Number"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"tel",name:"phoneNumber",placeholder:"Enter the Phone Number of Driver",value:null!=u?u:"",onChange:e=>{let t=e.target.value.replace(/[^\d+]/g,""),r=t.startsWith("+")?t:"+"+t,s=r.replace("+","")?parseInt(r.replace("+",""),10):void 0;isNaN(s)||x(s)},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 text-zinc-800 text-lg bg-zinc-200"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-lg font-medium text-white",children:"Password"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)("input",{type:g?"text":"password",name:"password",placeholder:"Enter the Password for Driver",value:h,onChange:e=>m(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 text-zinc-800 text-lg bg-zinc-200"}),(0,s.jsx)("button",{type:"button",onClick:()=>{p(!g)},className:"absolute inset-y-0 right-0 px-4 py-3 text-sm font-medium text-blue-600 hover:text-blue-700",children:g?"Hide":"Show"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let r=0;r<8;r++){let r=Math.floor(Math.random()*e.length);t+=e[r]}m(t)},className:" bg-yellow-600 text-white  hover:bg-yellow-500 py-3 px-4 text-lg font-semibold rounded-lg  transition duration-300",children:"Generate Password"})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 py-3 text-lg font-semibold  transition duration-300",children:f?"Adding...":"Add Driver"})]})]})]})})}},649:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o,IY:()=>a});var s=r(8943),l=r(2651);let a=(0,s.zD)("driver/addDriver",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=localStorage.getItem("token");if(!t)throw Error("No authentication token found.");return(await l.A.post("http://localhost:5000/admin/add-driver",e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).data}catch(e){return console.error(e),r("An unexpected error occurred")}}),n=(0,s.Z0)({name:"driver",initialState:{driver:null,isLoading:!1,error:null},reducers:{clearDriverState:e=>{e.driver=null,e.error=null}},extraReducers:e=>{e.addCase(a.pending,e=>{e.isLoading=!0,e.error=null}).addCase(a.fulfilled,(e,t)=>{e.isLoading=!1,e.driver=t.payload}).addCase(a.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{clearDriverState:i}=n.actions,o=n.reducer},744:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,b7:()=>n,ri:()=>o});var s=r(8943),l=r(2651);let a={token:localStorage.getItem("token"),isLoading:!1,error:null},n=(0,s.zD)("auth/loginAdmin",async(e,t)=>{let{email:r,password:s}=e,{rejectWithValue:a}=t;try{let e=(await l.A.post("http://localhost:5000/api/auth/login",{email:r,password:s})).data.token;return localStorage.setItem("token",e),e}catch(e){return console.error(e),a("An unexpected error occurred")}}),i=(0,s.Z0)({name:"auth",initialState:a,reducers:{logout:e=>{e.token=null,localStorage.removeItem("token")}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.isLoading=!1,e.token=t.payload,e.error=null}).addCase(n.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{logout:o}=i.actions,d=i.reducer},241:(e,t,r)=>{"use strict";r.d(t,{dj:()=>x,oR:()=>u});var s=r(2115);let l=0,a=new Map,n=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function x(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[559,819,441,517,358],()=>t(7450)),_N_E=e.O()}]);